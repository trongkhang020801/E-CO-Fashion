{"ast":null,"code":"/*\n ** Author: Santosh Kumar Dash\n ** Author URL: http://santoshdash.epizy.com/\n ** Github URL: https://github.com/quintuslabs/fashion-cube\n */\nimport Auth from \"../modules/Auth\";\nimport jumpTo from \"../modules/Navigation\";\nimport axios from \"axios\"; //const URL = \"http://192.168.0.19:3000\";\n\nconst URL = \"http://127.0.0.1:3000\";\n\nconst API = config => {\n  //header authorization\n  if (Auth.user_token) {\n    const token = Auth.getToken();\n    config.headers = {\n      authorization: token\n    };\n  } //interceptors handle network error\n\n\n  axios.interceptors.response.use(response => {\n    return response;\n  }, function (error) {\n    if (!error.response) {\n      error.response = {\n        data: \"net work error\",\n        status: 500\n      };\n    }\n\n    if (error.response.status === 401) {\n      Auth.logout(); // jumpTo(\"/login\");\n\n      throw error;\n    }\n\n    return Promise.reject(error);\n  });\n  config.baseURL = URL;\n  return axios(config);\n};\n\nexport default API;","map":{"version":3,"sources":["D:/ThuLuyen/fashion-cube-master/src/axios/API.js"],"names":["Auth","jumpTo","axios","URL","API","config","user_token","token","getToken","headers","authorization","interceptors","response","use","error","data","status","logout","Promise","reject","baseURL"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAEA,OAAOA,IAAP,MAAiB,iBAAjB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,MAAMC,GAAG,GAAG,uBAAZ;;AAEA,MAAMC,GAAG,GAAIC,MAAD,IAAY;AACtB;AACA,MAAIL,IAAI,CAACM,UAAT,EAAqB;AACnB,UAAMC,KAAK,GAAGP,IAAI,CAACQ,QAAL,EAAd;AACAH,IAAAA,MAAM,CAACI,OAAP,GAAiB;AACfC,MAAAA,aAAa,EAAEH;AADA,KAAjB;AAGD,GAPqB,CAQtB;;;AACAL,EAAAA,KAAK,CAACS,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CACGD,QAAD,IAAc;AACZ,WAAOA,QAAP;AACD,GAHH,EAIE,UAAUE,KAAV,EAAiB;AACf,QAAI,CAACA,KAAK,CAACF,QAAX,EAAqB;AACnBE,MAAAA,KAAK,CAACF,QAAN,GAAiB;AACfG,QAAAA,IAAI,EAAE,gBADS;AAEfC,QAAAA,MAAM,EAAE;AAFO,OAAjB;AAID;;AACD,QAAIF,KAAK,CAACF,QAAN,CAAeI,MAAf,KAA0B,GAA9B,EAAmC;AACjChB,MAAAA,IAAI,CAACiB,MAAL,GADiC,CAEjC;;AACA,YAAMH,KAAN;AACD;;AACD,WAAOI,OAAO,CAACC,MAAR,CAAeL,KAAf,CAAP;AACD,GAjBH;AAmBAT,EAAAA,MAAM,CAACe,OAAP,GAAiBjB,GAAjB;AACA,SAAOD,KAAK,CAACG,MAAD,CAAZ;AACD,CA9BD;;AA+BA,eAAeD,GAAf","sourcesContent":["/*\n ** Author: Santosh Kumar Dash\n ** Author URL: http://santoshdash.epizy.com/\n ** Github URL: https://github.com/quintuslabs/fashion-cube\n */\n\nimport Auth from \"../modules/Auth\";\nimport jumpTo from \"../modules/Navigation\";\nimport axios from \"axios\";\n//const URL = \"http://192.168.0.19:3000\";\nconst URL = \"http://127.0.0.1:3000\";\n\nconst API = (config) => {\n  //header authorization\n  if (Auth.user_token) {\n    const token = Auth.getToken();\n    config.headers = {\n      authorization: token,\n    };\n  }\n  //interceptors handle network error\n  axios.interceptors.response.use(\n    (response) => {\n      return response;\n    },\n    function (error) {\n      if (!error.response) {\n        error.response = {\n          data: \"net work error\",\n          status: 500,\n        };\n      }\n      if (error.response.status === 401) {\n        Auth.logout();\n        // jumpTo(\"/login\");\n        throw error;\n      }\n      return Promise.reject(error);\n    }\n  );\n  config.baseURL = URL;\n  return axios(config);\n};\nexport default API;\n"]},"metadata":{},"sourceType":"module"}